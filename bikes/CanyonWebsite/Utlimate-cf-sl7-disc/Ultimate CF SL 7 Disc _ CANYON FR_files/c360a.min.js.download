// SDK
/*
 JavaScript Cookie v2.2.1
 https://github.com/js-cookie/js-cookie
 
 Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 Released under the MIT license
*/
'use strict';var SalesforceInteractions=function(e){function x(b){x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return x(b)}function P(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}function Ua(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=
!0);Object.defineProperty(b,d.key,d)}}function ia(b,a,c){a&&Ua(b.prototype,a);c&&Ua(b,c);return b}function Q(b,a,c){a in b?Object.defineProperty(b,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):b[a]=c;return b}function Va(b,a){var c=Object.keys(b);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(b);a&&(d=d.filter(function(a){return Object.getOwnPropertyDescriptor(b,a).enumerable}));c.push.apply(c,d)}return c}function z(b){for(var a=1;a<arguments.length;a++){var c=null!=
arguments[a]?arguments[a]:{};a%2?Va(c,!0).forEach(function(a){Q(b,a,c[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):Va(c).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))})}return b}function R(b,a){var c=Array.isArray(b)?b:void 0;if(!c){c=[];var d=!0,f=!1,m=void 0;try{for(var p=b[Symbol.iterator](),l;!(d=(l=p.next()).done)&&(c.push(l.value),!a||c.length!==a);d=!0);}catch(Tb){f=!0,m=Tb}finally{try{if(!d&&null!=
p["return"])p["return"]()}finally{if(f)throw m;}}}if(!(b=c))throw new TypeError("Invalid attempt to destructure non-iterable instance");return b}function Wa(b){if(Array.isArray(b)){var a=0;for(var c=Array(b.length);a<b.length;a++)c[a]=b[a];a=c}else a=void 0;a||(a=Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b)?Array.from(b):void 0);if(!(b=a))throw new TypeError("Invalid attempt to spread non-iterable instance");return b}function Xa(b){r.setLoggingLevel(b)}function Ya(){return r.getLoggingLevel()}
function ja(b){var a,c,d,f=[],m=[c=1732584193,d=4023233417,~c,~d,3285377520],p=[],l=unescape(encodeURI(b))+"\u0080",e=l.length;for(p[b=--e/4+2|15]=8*e;~e;)p[e>>2]|=l.charCodeAt(e)<<8*~e--;for(a=e=0;a<b;a+=16){for(c=m;80>e;c=[c[4]+(f[e]=16>e?~~p[a+e]:2*l|0>l)+1518500249+[d&g|~d&h,l=341275144+(d^g^h),882459459+(d&g|d&h|g&h),l+1535694389][e++/5>>2]+((l=c[0])<<5|l>>>27),l,d<<30|d>>>2,g,h]){l=f[e-3]^f[e-8]^f[e-14]^f[e-16];d=c[1];var g=c[2];var h=c[3]}for(e=5;e;)m[--e]+=c[e]}for(l="";40>e;)l+=(m[e>>3]>>
4*(7-e++)&15).toString(16);return l}function Za(){var b=(window.navigator.userAgent||"")+(window.navigator.platform||"")+(new Date).getTime+JSON.stringify({})+Math.random();return T(b).slice(0,16)}function la(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t;return a&&9===a.nodeType||a&&1===a.nodeType?Ub.test(b)?a.getElementsByClassName(b.slice(1)):Vb.test(b)?a.getElementsByTagName(b):a.querySelectorAll(b):[]}function Wb(b,a){return a.toUpperCase()}function M(b){return b.replace(Xb,
Wb)}function q(b,a){for(var c=0,d=b.length;c<d&&!1!==a.call(b[c],c,b[c]);c++);}function $a(b){for(var a=arguments.length,c=Array(1<a?a-1:0),d=1;d<a;d++)c[d-1]=arguments[d];a=arguments;c=a.length;for(d=2>c?0:1;d<c;d++)for(var f in a[d])b[f]=a[d][f];return b}function ma(b,a){var c=b&&(b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector);return!!c&&c.call(b,a)}function N(b,a,c){for(var d=[],f=0,m=b.length;f<m;f++)for(var e=b[f][a];null!=e;){d.push(e);if(!c)break;
e=e[a]}return d}function U(b){return!!b&&b===b.window}function F(b){return"function"===typeof b}function y(b){return"string"===typeof b}function ab(b){return!isNaN(parseFloat(b))&&isFinite(b)}function na(b){return y(b)?function(a,c){return ma(c,b)}:F(b)?b:b instanceof g?function(a,c){return b.is(c)}:function(a,c){return c===b}}function G(b,a){return a&&b.length?b.filter(a):b}function V(b){return y(b)?b.match(Yb)||[]:[]}function A(b){return 1<b.length?oa.call(b,function(a,b,d){return bb.call(d,a)===
b}):b}function H(b,a,c){if(b&&1===b.nodeType&&a)return b=I.getComputedStyle(b,null),a?c?b.getPropertyValue(a)||void 0:b[a]:b}function J(b,a){return parseInt(H(b,a),10)||0}function cb(b){if(1<arguments.length&&void 0!==arguments[1]?arguments[1]:pa.test(b))return b;if(!qa[b]){var a=M(b),c="".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));a="".concat(a," ").concat(Zb.join("".concat(c," "))).concat(c).split(" ");q(a,function(a,c){if(c in $b)return qa[b]=c,!1})}return qa[b]}function db(b,a){return(2<
arguments.length&&void 0!==arguments[2]?arguments[2]:pa.test(b))||ac[b]||!ab(a)?a:"".concat(a,"px")}function bc(b,a){b=b.dataset?b.dataset[a]||b.dataset[M(a)]:b.getAttribute("data-".concat(a));try{return JSON.parse(b)}catch(c){}return b}function eb(b,a){return J(b,"border".concat(a?"Left":"Top","Width"))+J(b,"padding".concat(a?"Left":"Top"))+J(b,"padding".concat(a?"Right":"Bottom"))+J(b,"border".concat(a?"Right":"Bottom","Width"))}function fb(b,a){return!a||!gb.call(a,function(a){return 0>b.indexOf(a)})}
function cc(b,a,c,d,f){f.guid=f.guid||h.guid++;var m=b.__cashEvents=b.__cashEvents||{};m[a]=m[a]||[];m[a].push([c,d,f]);b.addEventListener(a,f)}function ra(b){b=b.split(".");return[b[0],b.slice(1).sort()]}function W(b,a,c,d,f){var m=b.__cashEvents=b.__cashEvents||{};if(a)m[a]&&(m[a]=m[a].filter(function(m){var e=R(m,3);m=e[0];var p=e[1];e=e[2];if(f&&e.guid!==f.guid||!fb(m,c)||d&&d!==p)return!0;b.removeEventListener(a,e)}));else{for(a in m)W(b,a,c,d,f);delete b.__cashEvents}}function hb(b){return b.multiple?
N(oa.call(b.options,function(a){return a.selected&&!a.disabled&&!a.parentNode.disabled}),"value"):b.value||""}function ib(b){if(!X){var a=t.createElement("table"),c=t.createElement("tr");X={"*":jb,tr:t.createElement("tbody"),td:c,th:c,thead:a,tbody:a,tfoot:a}}if(!y(b))return[];if(dc.test(b))return[t.createElement(RegExp.$1)];a=ec.test(b)&&RegExp.$1;a=X[a]||X["*"];a.innerHTML=b;return h(a.childNodes).detach().get()}function sa(b){b=h(b);b.filter("script").add(b.find("script")).each(function(a,b){!b.src&&
fc.test(b.type)&&b.ownerDocument.documentElement.contains(b)&&eval(b.textContent.replace(gc,""))})}function Y(b,a,c){q(b,function(b,f){q(a,function(a,d){a=b?d.cloneNode(!0):d;c?f.insertBefore(a,c&&f.firstChild):f.appendChild(a);sa(a)})})}function kb(b,a,c){return"function"===typeof c?{bind:b,selector:a,callback:c}:null}function hc(){ta=n.onFireException.on(function(b,a){document.dispatchEvent(new CustomEvent(e.CustomEvents.OnException,{detail:{error:b,context:a}}))});ua=n.onEventSend.on(function(b){document.dispatchEvent(new CustomEvent(e.CustomEvents.OnBeforeEventSend,
{detail:{actionEvent:b},cancelable:!0}))&&document.dispatchEvent(new CustomEvent(e.CustomEvents.OnEventSend,{detail:{actionEvent:b}}))});va=n.onPageMatchStatusUpdated.on(function(b){document.dispatchEvent(new CustomEvent(e.CustomEvents.OnPageMatchStatusUpdated,{detail:{matchStatus:b}}))});wa=n.onInitSitemap.on(function(b){document.dispatchEvent(new CustomEvent(e.CustomEvents.OnInitSitemap,{detail:{sitemapConfig:b}}))})}function Z(b){ta&&ta();ua&&ua();va&&va();wa&&wa();document.dispatchEvent(new CustomEvent(e.CustomEvents.OnShutDown,
{detail:{message:b}}));xa="shutDown";return!1}var ya=["error","warn","info","debug","trace"],r=new (function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;P(this,b);this.console=window.console;this.level=c;this.prefix=a;this.buildLogFunctions()}ia(b,[{key:"shouldLog",value:function(a){return a<=this.level}},{key:"setLoggingLevel",value:function(a){this.level="string"===typeof a?ya.indexOf(a.toLowerCase())+
1:a||0;this.buildLogFunctions()}},{key:"getLoggingLevel",value:function(){return this.level}},{key:"setPrefix",value:function(a){this.prefix=a;this.buildLogFunctions()}},{key:"getPrefix",value:function(){return this.prefix}},{key:"buildLogFunctions",value:function(){var a=this;ya.forEach(function(b,d){b=ya[d];a[b]=a.shouldLog(d+1)?a.getLogFn(b):function(){}})}},{key:"getLogFn",value:function(a){return Function.prototype.bind.call(this.console.log,this.console,"[".concat(a.toUpperCase(),"]").concat(this.prefix?
"("+this.prefix+")":"",":"))}}]);return b}());(function(b){b.OnEventSend="interactions:onEventSend";b.OnBeforeEventSend="interactions:onBeforeEventSend";b.OnException="interactions:onException";b.OnPageMatchStatusUpdated="interactions:onPageMatchStatusUpdated";b.OnInit="interactions:onInit";b.OnInitSitemap="interactions:onInitSitemap";b.OnShutDown="interactions:onShutDown";b.OnSetAnonymousId="interactions:onSetAnonymousId";b.OnResetAnonymousId="interactions:onResetAnonymousId";b.OnClearPersistedIdentities=
"interactions:onClearPersistedIdentities";b.OnConsentRevoke="interactions:onConsentRevoke"})(e.CustomEvents||(e.CustomEvents={}));var za={anonymousId:{ids:{},timeoutDays:730}},T=ja.default?ja.default:ja,lb,aa=window.location.hostname,mb=function(){return aa},Aa=function(b){aa=b;nb()},nb=function(){lb=T("".concat(T(aa+"/").slice(0,4))).slice(0,4)},Ba=function(){return"".concat("_sfid","_").concat(lb)},Ca=function(b,a){return a={exports:{}},b(a,a.exports),a.exports}(function(b,a){(function(a){b.exports=
a()})(function(){function a(){for(var a=0,b={};a<arguments.length;a++){var c=arguments[a],d;for(d in c)b[d]=c[d]}return b}function b(c){function d(){}function f(b,f,e){if("undefined"!==typeof document){e=a({path:"/"},d.defaults,e);"number"===typeof e.expires&&(e.expires=new Date(1*new Date+864E5*e.expires));e.expires=e.expires?e.expires.toUTCString():"";try{var m=JSON.stringify(f);/^[\{\[]/.test(m)&&(f=m)}catch(ba){}f=c.write?c.write(f,b):encodeURIComponent(String(f)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,
decodeURIComponent);b=encodeURIComponent(String(b)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);m="";for(var l in e)e[l]&&(m+="; "+l,!0!==e[l]&&(m+="="+e[l].split(";")[0]));return document.cookie=b+"="+f+m}}function e(a,b){if("undefined"!==typeof document){for(var d={},f=document.cookie?document.cookie.split("; "):[],e=0;e<f.length;e++){var m=f[e].split("="),l=m.slice(1).join("=");b||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var p=m[0].replace(/(%[0-9A-Z]{2})+/g,
decodeURIComponent);l=(c.read||c)(l,p)||l.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);if(b)try{l=JSON.parse(l)}catch(ic){}d[p]=l;if(a===p)break}catch(ic){}}return a?d[a]:d}}d.set=f;d.get=function(a){return e(a,!1)};d.getJSON=function(a){return e(a,!0)};d.remove=function(b,c){f(b,"",a(c,{expires:-1}))};d.defaults={};d.withConverter=b;return d}return b(function(){})})}),Da=function(){return Ca.getJSON(Ba())},ob=function(b){L.write(z({},Da(),{consents:b}),za.anonymousId.timeoutDays)},L={read:Da,write:function(b,
a){Ca.set(Ba(),b,{expires:a,domain:aa})},remove:function(b){Ca.remove(Ba(),b)}},jc=[/bot/i,/spider/i,/facebookexternalhit/i,/simplepie/i,/yahooseeker/i,/embedly/i,/quora link preview/i,/outbrain/i,/vkshare/i,/monit/i,/Pingability/i,/Monitoring/i,/WinHttpRequest/i,/Apache-HttpClient/i,/getprismatic.com/i,/python-requests/i,/Twurly/i,/yandex/i,/browserproxy/i,/crawler/i,/Qwantify/i,/Yahoo! Slurp/i,/pinterest/i,/Tumblr\/14.0.835.186/i,/Tumblr Agent 14.0/i],kc=function(b){return jc.some(function(a){return a.test(b)})},
lc=navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS"),E="";document.addEventListener(e.CustomEvents.OnResetAnonymousId,function(){L.remove();pb()});document.addEventListener(e.CustomEvents.OnSetAnonymousId,function(b){b.detail&&b.detail.newAnonymousId&&(b=b.detail.newAnonymousId,L.write(z({},Da(),{anonymousId:b}),za.anonymousId.timeoutDays))});var qb=function(){return E},Ea=function(b){(E=
b)?document.dispatchEvent(new CustomEvent(e.CustomEvents.OnSetAnonymousId,{detail:{newAnonymousId:b}})):r.warn("Attempted to setAnonymousId but not parameter is undefined")},pb=function(){rb()?(E=L.read().anonymousId,r.debug("Loaded anonymous identity record from cookie: ".concat(JSON.stringify(E)))):(Ea(Za()),r.debug("Created new anonymous identity record. anonymousId: ".concat(E)));return E},rb=function(){var b=L.read();return!!(b&&"object"===x(b)&&0<Object.keys(b).length)},t=document,I=window,
jb=t.createElement("div"),D=Array.prototype,oa=D.filter,bb=D.indexOf,mc=D.map,da=D.push,Fa=D.reverse,sb=D.slice,gb=D.some,nc=D.splice,oc=/^#[\w-]*$/,Ub=/^\.[\w-]*$/,pc=/<.+>/,Vb=/^\w+$/,g=function(){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t;P(this,b);if(a){if(a instanceof g)return a;var d=a;if(y(a)){if(d=c instanceof g?c[0]:c,d=oc.test(a)?d.getElementById(a.slice(1)):pc.test(a)?ib(a):la(a,d),!d)return}else if(F(a))return this.ready(a);if(d.nodeType||d===I)d=[d];
this.length=d.length;c=0;for(var f=this.length;c<f;c++)this[c]=d[c]}}ia(b,[{key:"init",value:function(a,c){return new b(a,c)}}]);return b}(),h=g.prototype.init;h.fn=h.prototype=g.prototype;g.prototype.length=0;g.prototype.splice=nc;"function"===typeof Symbol&&(g.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]);g.prototype.get=function(b){return void 0===b?sb.call(this):this[0>b?b+this.length:b]};g.prototype.eq=function(b){return h(this.get(b))};g.prototype.first=function(){return this.eq(0)};
g.prototype.last=function(){return this.eq(-1)};g.prototype.map=function(b){return h(mc.call(this,function(a,c){return b.call(a,c,a)}))};g.prototype.slice=function(){return h(sb.apply(this,arguments))};var Xb=/-([a-z])/g;h.camelCase=M;h.each=q;g.prototype.each=function(b){q(this,b);return this};g.prototype.removeProp=function(b){return this.each(function(a,c){delete c[b]})};g.prototype.extend=function(b){return $a(h.fn,b)};h.extend=$a;h.guid=1;h.matches=ma;var Ga=Array.isArray;h.isWindow=U;h.isFunction=
F;h.isString=y;h.isNumeric=ab;h.isArray=Ga;g.prototype.prop=function(b,a){if(b){if(y(b))return 2>arguments.length?this[0]&&this[0][b]:this.each(function(c,f){f[b]=a});for(var c in b)this.prop(c,b[c]);return this}};g.prototype.filter=function(b){if(!b)return h();var a=na(b);return h(oa.call(this,function(b,d){return a.call(b,d,b)}))};var Yb=/\S+/g;g.prototype.hasClass=function(b){return b&&gb.call(this,function(a){return a.classList.contains(b)})};g.prototype.removeAttr=function(b){var a=V(b);return a.length?
this.each(function(b,d){q(a,function(a,b){d.removeAttribute(b)})}):this};g.prototype.attr=function(b,a){if(b){if(y(b)){if(2>arguments.length){if(!this[0])return;var c=this[0].getAttribute(b);return null===c?void 0:c}return void 0===a?this:null===a?this.removeAttr(b):this.each(function(c,f){f.setAttribute(b,a)})}for(c in b)this.attr(c,b[c]);return this}};g.prototype.toggleClass=function(b,a){var c=V(b),d=void 0!==a;return c.length?this.each(function(b,e){q(c,function(b,c){d?a?e.classList.add(c):e.classList.remove(c):
e.classList.toggle(c)})}):this};g.prototype.addClass=function(b){return this.toggleClass(b,!0)};g.prototype.removeClass=function(b){return arguments.length?this.toggleClass(b,!1):this.attr("class","")};h.unique=A;g.prototype.add=function(b,a){return h(A(this.get().concat(h(b,a).get())))};var pa=/^--/,qa={},$b=jb.style,Zb=["webkit","moz","ms","o"];h.prefixedProp=cb;var ac={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,
widows:!0,zIndex:!0};g.prototype.css=function(b,a){if(y(b)){var c=pa.test(b);b=cb(b,c);if(2>arguments.length)return this[0]&&H(this[0],b,c);if(!b)return this;a=db(b,a,c);return this.each(function(d,e){e&&1===e.nodeType&&(c?e.style.setProperty(b,a):e.style[b]=a)})}for(var d in b)this.css(d,b[d]);return this};var qc=/^data-(.+)/;g.prototype.data=function(b,a){var c=this;if(!b){if(!this[0])return;var d={};q(this[0].attributes,function(a,b){(a=b.name.match(qc))&&(d[a[1]]=c.data(a[1]))});return d}if(y(b))return void 0===
a?this[0]&&bc(this[0],b):this.each(function(c,d){c=a;try{c=JSON.stringify(c)}catch(l){}d.dataset?d.dataset[M(b)]=c:d.setAttribute("data-".concat(b),c)});for(var f in b)this.data(f,b[f]);return this};q(["Width","Height"],function(b,a){g.prototype["inner".concat(a)]=function(){if(this[0])return U(this[0])?I["inner".concat(a)]:this[0]["client".concat(a)]}});q(["width","height"],function(b,a){g.prototype[a]=function(c){if(!this[0])return void 0===c?void 0:this;if(!arguments.length)return U(this[0])?this[0][M("outer-".concat(a))]:
this[0].getBoundingClientRect()[a]-eb(this[0],!b);var d=parseInt(c,10);return this.each(function(c,e){e&&1===e.nodeType&&(c=H(e,"boxSizing"),e.style[a]=db(a,d+("border-box"===c?eb(e,!b):0)))})}});q(["Width","Height"],function(b,a){g.prototype["outer".concat(a)]=function(c){if(this[0])return U(this[0])?I["outer".concat(a)]:this[0]["offset".concat(a)]+(c?J(this[0],"margin".concat(b?"Top":"Left"))+J(this[0],"margin".concat(b?"Bottom":"Right")):0)}});var Ha={};g.prototype.toggle=function(b){return this.each(function(a,
c){if(void 0!==b?b:"none"===H(c,"display")){if(c.style.display="","none"===H(c,"display")){a=c.style;c=c.tagName;if(Ha[c])c=Ha[c];else{var d=t.createElement(c);t.body.appendChild(d);var f=H(d,"display");t.body.removeChild(d);c=Ha[c]="none"!==f?f:"block"}a.display=c}}else c.style.display="none"})};g.prototype.hide=function(){return this.toggle(!1)};g.prototype.show=function(){return this.toggle(!0)};var Ia={focus:"focusin",blur:"focusout"},tb={mouseenter:"mouseover",mouseleave:"mouseout"},rc=/^(?:mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;
g.prototype.off=function(b,a,c){var d=this;void 0===b?this.each(function(a,b){return W(b)}):(F(a)&&(c=a,a=""),q(V(b),function(b,e){b=ra(tb[e]||Ia[e]||e);b=R(b,2);var f=b[0],l=b[1];d.each(function(b,d){return W(d,f,l,a,c)})}));return this};g.prototype.on=function(b,a,c,d){var f=this;if(!y(b)){for(var e in b)this.on(e,a,b[e]);return this}F(a)&&(c=a,a="");q(V(b),function(b,e){b=ra(tb[e]||Ia[e]||e);b=R(b,2);var l=b[0],m=b[1];f.each(function(b,f){b=function ca(b){if(!b.namespace||fb(m,b.namespace.split("."))){var e=
f;if(a){for(var g=b.target;!ma(g,a);){if(g===f)return;g=g.parentNode;if(!g)return}e=g;b.__delegate=!0}b.__delegate&&Object.defineProperty(b,"currentTarget",{configurable:!0,get:function(){return e}});g=c.call(e,b,b.data);d&&W(f,l,m,a,ca);!1===g&&(b.preventDefault(),b.stopPropagation())}};b.guid=c.guid=c.guid||h.guid++;cc(f,l,m,a,b)})});return this};g.prototype.one=function(b,a,c){return this.on(b,a,c,!0)};g.prototype.ready=function(b){var a=function(){return b(h)};"loading"!==t.readyState?setTimeout(a):
t.addEventListener("DOMContentLoaded",a);return this};g.prototype.trigger=function(b,a){if(y(b)){b=ra(b);var c=R(b,2);b=c[0];c=c[1];var d=rc.test(b)?"MouseEvents":"HTMLEvents";var f=t.createEvent(d);f.initEvent(b,!0,!0);f.namespace=c.join(".")}else f=b;f.data=a;var e=f.type in Ia;return this.each(function(a,b){if(e&&F(b[f.type]))b[f.type]();else b.dispatchEvent(f)})};var sc=/%20/g,tc=/file|reset|submit|button|image/i,uc=/radio|checkbox/i;g.prototype.serialize=function(){var b="";this.each(function(a,
c){q(c.elements||[c],function(a,c){c.disabled||!c.name||"FIELDSET"===c.tagName||tc.test(c.type)||uc.test(c.type)&&!c.checked||(a=hb(c),void 0!==a&&(a=Ga(a)?a:[a],q(a,function(a,d){a=b;d="&".concat(encodeURIComponent(c.name),"=").concat(encodeURIComponent(d).replace(sc,"+"));b=a+d})))})});return b.substr(1)};g.prototype.val=function(b){return void 0===b?this[0]&&hb(this[0]):this.each(function(a,c){if("SELECT"===c.tagName){var d=Ga(b)?b:null===b?[]:[b];q(c.options,function(a,b){b.selected=0<=d.indexOf(b.value)})}else c.value=
null===b?"":b})};g.prototype.clone=function(){return this.map(function(b,a){return a.cloneNode(!0)})};g.prototype.detach=function(){return this.each(function(b,a){a.parentNode&&a.parentNode.removeChild(a)})};var ec=/^\s*<(\w+)[^>]*>/,dc=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,X;h.parseHTML=ib;g.prototype.empty=function(){return this.each(function(b,a){for(;a.firstChild;)a.removeChild(a.firstChild)})};g.prototype.html=function(b){return void 0===b?this[0]&&this[0].innerHTML:this.each(function(a,c){c.innerHTML=
b})};g.prototype.remove=function(){return this.detach().off()};g.prototype.text=function(b){return void 0===b?this[0]?this[0].textContent:"":this.each(function(a,c){c.textContent=b})};g.prototype.unwrap=function(){this.parent().each(function(b,a){b=h(a);b.replaceWith(b.children())});return this};var ub=t.documentElement;g.prototype.offset=function(){var b=this[0];if(b)return b=b.getBoundingClientRect(),{top:b.top+I.pageYOffset-ub.clientTop,left:b.left+I.pageXOffset-ub.clientLeft}};g.prototype.offsetParent=
function(){return h(this[0]&&this[0].offsetParent)};g.prototype.position=function(){var b=this[0];if(b)return{left:b.offsetLeft,top:b.offsetTop}};g.prototype.children=function(b){var a=[];this.each(function(b,d){da.apply(a,d.children)});return G(h(A(a)),b)};g.prototype.contents=function(){var b=[];this.each(function(a,c){da.apply(b,"IFRAME"===c.tagName?[c.contentDocument]:c.childNodes)});return h(A(b))};g.prototype.find=function(b){for(var a=[],c=0,d=this.length;c<d;c++){var f=la(b,this[c]);f.length&&
da.apply(a,f)}return h(A(a))};var fc=/^$|^module$|\/(?:java|ecma)script/i,gc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;g.prototype.append=function(){var b=this;q(arguments,function(a,c){Y(b,h(c))});return this};g.prototype.appendTo=function(b){Y(h(b),this);return this};g.prototype.insertAfter=function(b){var a=this;h(b).each(function(b,d){var c=d.parentNode;c&&a.each(function(a,f){a=b?f.cloneNode(!0):f;c.insertBefore(a,d.nextSibling);sa(a)})});return this};g.prototype.after=function(){var b=this;
q(Fa.apply(arguments),function(a,c){Fa.apply(h(c).slice()).insertAfter(b)});return this};g.prototype.insertBefore=function(b){var a=this;h(b).each(function(b,d){var c=d.parentNode;c&&a.each(function(a,f){a=b?f.cloneNode(!0):f;c.insertBefore(a,d);sa(a)})});return this};g.prototype.before=function(){var b=this;q(arguments,function(a,c){h(c).insertBefore(b)});return this};g.prototype.prepend=function(){var b=this;q(arguments,function(a,c){Y(b,h(c),!0)});return this};g.prototype.prependTo=function(b){Y(h(b),
Fa.apply(this.slice()),!0);return this};g.prototype.replaceWith=function(b){return this.before(b).remove()};g.prototype.replaceAll=function(b){h(b).replaceWith(this);return this};g.prototype.wrapAll=function(b){if(this[0]){b=h(b);this.first().before(b);for(b=b[0];b.children.length;)b=b.firstElementChild;this.appendTo(b)}return this};g.prototype.wrap=function(b){return this.each(function(a,c){var d=h(b)[0];h(c).wrapAll(a?d.cloneNode(!0):d)})};g.prototype.wrapInner=function(b){return this.each(function(a,
c){a=h(c);c=a.contents();c.length?c.wrapAll(b):a.append(b)})};g.prototype.has=function(b){var a=y(b)?function(a,d){return!!la(b,d).length}:function(a,d){return d.contains(b)};return this.filter(a)};g.prototype.is=function(b){if(!b||!this[0])return!1;var a=na(b),c=!1;this.each(function(b,f){c=a.call(f,b,f);return!c});return c};g.prototype.next=function(b,a){return G(h(A(N(this,"nextElementSibling",a))),b)};g.prototype.nextAll=function(b){return this.next(b,!0)};g.prototype.not=function(b){if(!b||!this[0])return this;
var a=na(b);return this.filter(function(b,d){return!a.call(d,b,d)})};g.prototype.parent=function(b){return G(h(A(N(this,"parentNode"))),b)};g.prototype.index=function(b){var a=b?h(b)[0]:this[0];b=b?this:h(a).parent().children();return bb.call(b,a)};g.prototype.closest=function(b){if(!b||!this[0])return h();var a=this.filter(b);return a.length?a:this.parent().closest(b)};g.prototype.parents=function(b){return G(h(A(N(this,"parentElement",!0))),b)};g.prototype.prev=function(b,a){return G(h(A(N(this,
"previousElementSibling",a))),b)};g.prototype.prevAll=function(b){return this.prev(b,!0)};g.prototype.siblings=function(b){var a=[];this.each(function(b,d){da.apply(a,h(d).parent().children(function(a,b){return b!==d}))});return G(h(A(a)),b)};var ea=function(){function b(){P(this,b);this.listeners=[]}ia(b,[{key:"on",value:function(a){var b=this;(this.listeners=this.listeners||[]).push(a);return function(){b.listeners=b.listeners.filter(function(b){return b!==a})}}},{key:"once",value:function(a){var b=
this;return this.on(function(){b.unbindAll();try{for(var c=arguments.length,f=Array(c),e=0;e<c;e++)f[e]=arguments[e];a.apply(b,f)}catch(p){r.error("Signal listener callback error: "+p)}})}},{key:"emit",value:function(){for(var a=this,b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];0!==this.listeners.length&&this.listeners.forEach(function(b){try{b.apply(a,d)}catch(p){r.error("Signal listener callback error: "+p)}})}},{key:"unbindAll",value:function(){this.listeners=[]}}]);return b}(),
vc=function(b){r.debug("Unbinding all signals for type: ",b);Object.keys(b).forEach(function(a){b[a].unbindAll&&b[a].unbindAll()})},n=function a(){P(this,a)};n.onEventSend=new ea;n.onFireException=new ea;n.onPageMatchStatusUpdated=new ea;n.onInitSitemap=new ea;n.unbindAll=function(){vc(n)};var k={result:{currentPage:null,matchedConfig:null,matchStatus:null},config:{pageTypes:[]}},v=null,vb=function(){return k.config},wb=function(){return k.result};(function(a){a.Pending="pending";a.Running="running";
a.Selected="selected";a.Matched="matched";a.Rejected="rejected"})(e.MatchStatus||(e.MatchStatus={}));var Ka=function(a){return new Promise(function(c,d){var f=k.config.pageTypeDefault;f&&O({pageName:f.name,status:e.MatchStatus.Pending});f&&!a.length?(Ja(f),c(f)):(wc(a),a.map(function(e){xc(e).then(function(g){g?(f&&xb(f),Ja(e),c(e)):(xb(e),yc(a)||(f?(Ja(f),c(f)):d("No matching page found")))}).catch(function(a){n.onFireException.emit(Error("isMatch failed while evaluating the ".concat(e.name," page config")),
"Site-wide Javascript")})}))})},yb=function(){k.result.matchStatus&&(k.result.matchStatus.forEach(function(a){a.status===e.MatchStatus.Running&&a._reject()}),k.result.matchStatus=[]);n.onPageMatchStatusUpdated.emit(k.result.matchStatus)},wc=function(a){a.forEach(function(a){O({pageName:a.name,status:e.MatchStatus.Pending})})},Ja=function(a){O({pageName:a.name,endTime:Date.now(),status:k.result.matchStatus.find(function(a){return a.status===e.MatchStatus.Selected})?e.MatchStatus.Matched:e.MatchStatus.Selected})},
xb=function(a){O({pageName:a.name,status:e.MatchStatus.Rejected,endTime:Date.now()})},yc=function(a){return k.result.matchStatus.filter(function(a){return a.status===e.MatchStatus.Rejected},0).length<a.length},xc=function(a){return new Promise(function(c,d){O({pageName:a.name,status:e.MatchStatus.Running,startTime:Date.now(),_reject:d});"function"===typeof a.isMatch?(d=a.isMatch(),"object"===x(d)?d.then(function(a){c(a)}).catch(function(){}):c(d)):n.onFireException.emit(Error("isMatch failed while evaluating the ".concat(a.name,
" page config. isMatch must be a function.")),"Site-wide Javascript")})},O=function(a){k.result.matchStatus=[].concat(Wa(k.result.matchStatus||[]),[a]);n.onPageMatchStatusUpdated.emit(k.result.matchStatus)};(function(a){a.ViewCatalogObject="View Catalog Object";a.ViewCatalogObjectDetail="View Catalog Object Detail";a.QuickViewCatalogObject="Quick View Catalog Object";a.ShareCatalogObject="Share Catalog Object";a.ReviewCatalogObject="Review Catalog Object";a.CommentCatalogObject="Comment Catalog Object";
a.FavoriteCatalogObject="Favorite Catalog Object"})(e.CatalogObjectInteractionName||(e.CatalogObjectInteractionName={}));(function(a){a.AddToCart="Add To Cart";a.RemoveFromCart="Remove From Cart";a.ReplaceCart="Replace Cart"})(e.CartInteractionName||(e.CartInteractionName={}));(function(a){a.Purchase="Purchase";a.Preorder="Preorder";a.Cancel="Cancel";a.Ship="Ship";a.Deliver="Deliver";a.Return="Return";a.Exchange="Exchange"})(e.OrderInteractionName||(e.OrderInteractionName={}));(e.MetadataUpdateInteractionName||
(e.MetadataUpdateInteractionName={})).MetadataUpdate="MetadataUpdate";(e.ConsentPurpose||(e.ConsentPurpose={})).Tracking="Tracking";(function(a){a.OptIn="Opt In";a.OptOut="Opt Out"})(e.ConsentStatus||(e.ConsentStatus={}));var La=function(a,c,d){n.onFireException.emit(a,c);r.warn("sendException",{event,errorSection:c})},C=[],zb=function(){return C},Ab=function(a){return C.find(function(c){return a.purpose==c.consent.purpose})},Ma=function(a){Bb(a,!0)},Bb=function(a,c){Array.isArray(a)?a.forEach(function(a){Cb(a,
c)}):Cb(a,c);ob(C)},Cb=function(a,c){if(a&&"object"==x(a)&&a.purpose&&a.provider&&a.status)var d=!0;else La(Error("Invalid consent, check that consent is a valid object and all fields are defined: ".concat(JSON.stringify(a))),"Salesforce Web SDK"),d=!1;if(d)if(d=Ab(a)){var f=d.consent.status;if(d.consent.status!=a.status||d.consent.provider!=a.provider)d.consent=a,d.lastUpdateTime=(new Date).toISOString();c&&f==e.ConsentStatus.OptIn&&a.status==e.ConsentStatus.OptOut&&Db(d)}else a={consent:a,lastUpdateTime:(new Date).toISOString()},
C.push(a),c&&a.consent.status==e.ConsentStatus.OptOut&&Db(a)},Db=function(a){document.dispatchEvent(new CustomEvent(e.CustomEvents.OnConsentRevoke,{detail:{revokedConsent:a}}))},zc=function(a){var c=(new Date).toISOString();a.forEach(function(a){Ab(a).lastSentTime=c});ob(C)},Bc=function(a){Ac();Promise.resolve(a).then(function(a){a&&0<a.length&&Ma(a)})},Ac=function(){var a=L.read();a&&(C=a.consents||[])},Cc=function(a){return 0<=a.findIndex(function(a){return a.status==e.ConsentStatus.OptIn})},Eb=
function(){return Cc(C.map(function(a){return a.consent}))},Fb=function(a){a.source=a.source||{};var c=a.source||{},d;(d=a.source.pageType)||(d=k.result.currentPage&&k.result.currentPage.source?k.result.currentPage.source.pageType:void 0);a.source=z({},c,{pageType:d,url:a.source.url||window.location.href,urlReferrer:a.source.urlReferrer||document.referrer,channel:a.source.channel||"Web"});a.user=z({},a.user||{},{anonymousId:E});Dc(a)},Dc=function(a){a.consents&&Bb(a.consents,!1);a.consents=C.filter(function(a){return!a.lastSentTime||
new Date(a.lastUpdateTime)>=new Date(a.lastSentTime)}).map(function(a){return a.consent});zc(a.consents)};document.addEventListener(e.CustomEvents.OnConsentRevoke,function(a){a.detail&&a.detail.revokedConsent&&Ec({interaction:{name:e.MetadataUpdateInteractionName.MetadataUpdate},consents:[a.detail.revokedConsent.consent]})});var Na=function(a){return Gb(a,Eb).catch(function(c){r.error(c.message);n.onFireException.emit(c,"Site-wide JavaScript");return a})},Ec=function(a){Gb(a,function(){return!0}).then(function(){return r.debug("Consent revoked")},
function(a){return n.onFireException.emit(a,"Site-wide JavaScript")})},Gb=function(a,c){a:{var d=a,e=k.result.matchedConfig;try{d=e&&e.onActionEvent?e.onActionEvent(d):d;if("object"===x(d)){a=d;break a}n.onFireException.emit(Error("onActionEvent failed for the ".concat(k.result.matchedConfig.name," page config. Must return an object or null.")),"Site-wide Javascript")}catch(m){n.onFireException.emit(Error("onActionEvent failed for the ".concat(k.result.matchedConfig.name," page config. ").concat(m.message,
".")),"Site-wide Javascript")}a=void 0}a:{d=a;e=k.config;try{d=e.global&&e.global.onActionEvent?e.global.onActionEvent(d):d;if("object"===x(d)){a=d;break a}n.onFireException.emit(Error("onActionEvent failed for the global page config. Must return an object or null."),"Site-wide Javascript")}catch(m){n.onFireException.emit(Error("onActionEvent failed for the global page config. ".concat(m.message,".")),"Site-wide Javascript")}a=void 0}Fb(a);c&&!c()&&r.debug("No opt-in consents provided. Event will still be dispatched.");
r.debug("Sent event: ",a);n.onEventSend.emit(a);return Promise.resolve(a)},Fc=function(a){return new Promise(function(c,d){n.onInitSitemap.once(function(){return d("sitemap_reinit")});var e={name:null},g=[];Object.keys(a.interaction).forEach(function(c){var d=Hb(a.interaction[c],c).then(function(a){e[c]=a});g.push(d)});Promise.all(g).then(function(){c(e)}).catch(function(a){n.onFireException.emit(Error("Catalog object interaction config was rejected"),"Site-wide Javascript")})})},Hb=function(a,c){try{return v=
c,"object"===x(a)&&!Array.isArray(a)&&0<Object.keys(a).length?Gc(a):Promise.resolve(a).then(function(a){return"function"===typeof a?a():a})}catch(d){n.onFireException.emit(Error("getValue for ".concat(c," failed on ").concat(k.result.matchedConfig.name," while evaluating custom function. ").concat(d.message,".")),"Site-wide Javascript")}},Gc=function(a){var c={},d=Object.keys(a),e={};d.forEach(function(d){var e=Hb(a[d],d);c[d]=e});return Promise.all(Object.values(c)).then(function(a){a.forEach(function(a,
c){e[d[c]]=a});return e})},fa,Jb=function(){ha();Ib()&&(fa=setInterval(function(){var a=!1,c=(new Date).getTime(),d=k.result.matchedConfig.listeners.map(function(c){if(c.selectorFound)return c;c=Oa(c);a=c.selectorFound||a;return c});a&&Object.assign(k.result.matchedConfig,z({},k.result.matchedConfig,{listeners:d}));(50<(new Date).getTime()-c||!Ib())&&ha()},1E3))},Ib=function(){if(k.result.matchedConfig){var a=k.result.matchedConfig.listeners;return a?a.filter(function(a){return!a.selectorFound}).length:
!1}return!1},ha=function(){"number"===typeof fa&&clearInterval(fa);fa=null},Oa=function(a){var c=h(a.selector),d=z({},a,{selectorFound:0<c.length});c.on(d.bind,function(a){try{d.callback(a)}catch(m){n.onFireException.emit(Error("Listener callback on ".concat(d.bind," bound to ").concat(d.selector," failed for the ").concat(k.result.matchedConfig.name," page config. ").concat(m.message,".")),"Site-wide Javascript")}});return d},Kb=function(){k.result&&k.result.matchedConfig&&k.result.matchedConfig.listeners&&
k.result.matchedConfig.listeners.forEach(function(a){h(a.selector).off(a.bind)})},Lb=function(a){a.global=a.global||{};"object"!=x(a.global)&&n.onFireException.emit(Error("The global config has a type of ".concat(x(a.global),", but it must be an object")),"Sitewide Javascript");Object.assign(k.config,z({},a));n.onInitSitemap.emit(k.config)},Pa=function(a){Hc(a);return!0},Ob=function(a){Ka(a.pageTypes).then(Mb).then(Nb).catch(function(a){"sitemap_reinit"!==a&&n.onFireException.emit(Error("Unhandled exception: ".concat(a)),
"Site-wide Javascript")})},Nb=function(a){k.result.matchedConfig=z({},a,{listeners:Ic(a)});k.result.currentPage=z({},k.result.currentPage||{},{source:{pageType:a.name,locale:Jc(a)},user:{anonymousId:null},interaction:null,pageView:!0});return a.interaction?Fc(a).then(function(a){k.result.currentPage.interaction=a}):Promise.resolve()},Ic=function(a){return(a.listeners||[]).map(function(a){return Oa(a)})},Jc=function(a){return"function"===typeof a.locale?a.locale():a.locale},Kc=function c(){for(var d=
arguments.length,e=Array(d),g=0;g<d;g++)e[g]=arguments[g];return e.reduce(function(d,e){Object.keys(e).forEach(function(f){var l=d[f],g=e[f];Array.isArray(l)&&Array.isArray(g)?Object.assign(d,Q({},f,l.concat.apply(l,Wa(g)))):l&&"object"===x(l)&&g&&"object"===x(g)?Object.assign(d,Q({},f,c(l,g))):Object.assign(d,Q({},f,g))});return d},{})},Mb=function(c){var d=k.config.global||{},e=d.onActionEvent;delete d.onActionEvent;c=Kc(d,c);d.onActionEvent=e;return c},Oc=function(c){try{return Lc(c.global),Mc(c.pageTypeDefault),
Nc(c.pageTypes),!0}catch(d){return n.onFireException.emit(Error(d),"Sitemap"),!1}},Mc=function(c){c&&Object.keys(c).forEach(function(c){if("contentZones"!==c&&"listeners"!==c&&"locale"!==c&&"name"!==c&&"onActionEvent"!=c)throw Error("".concat(c," is not a valid default config attribute."));})},Lc=function(c){c&&Object.keys(c).forEach(function(c){if("contentZones"!==c&&"listeners"!==c&&"locale"!==c&&"onActionEvent"!=c)throw Error("".concat(c," is not a valid global config attribute."));})},Nc=function(c){c.forEach(function(c){if(!c.name||
!c.isMatch)throw Error("All page configs must have a name and isMatch attribute defined");})},Pc=function(){var c=k.result;Na(k.result.currentPage);k.result=c},Hc=function(c){Lb(c);Kb();yb();ha();k.result.currentPage=null;Oc(c)&&Ka(c.pageTypes).then(Mb).then(Nb).then(Pc).then(Jb).catch(function(c){"sitemap_reinit"!==c&&n.onFireException.emit(Error("Unhandled exception: ".concat(c)),"Site-wide Javascript")})},w=function(c,d){if(c)try{return c(d)}catch(f){return n.onFireException.emit(Error("getValue for ".concat(v,
" failed on ").concat(k.result.matchedConfig.name," inside of the custom transform function. ").concat(f)),"Site-wide Javascript"),null}return d},Qa=function(c,d){d=d||window;c=c.split(".");var e=!0,g=!1,h=void 0;try{for(var l=c[Symbol.iterator](),k;!(e=(k=l.next()).done);e=!0){var n=k.value;var S=/(\w+)\[([0-9]+)\]/.exec(n);if(d[n])d=d[n];else if(S){if(d[S[1]]&&(d=d[S[1]][parseInt(S[2],10)],!d))return null}else return null}}catch(K){g=!0,h=K}finally{try{e||null==l.return||l.return()}finally{if(g)throw h;
}}return d},Pb={fromSelector:function(c,d){return function(){if("string"!=typeof c)return n.onFireException.emit(Error("getValue for ".concat(v," failed on ").concat(k.result.matchedConfig.name,". Selector must be a string.")),"Site-wide Javascript"),null;var e=h(c).first().text();return e=w(d,e)}},fromSelectorAttribute:function(c,d,e){return function(){if("string"!=typeof c)return n.onFireException.emit(Error("getValue for ".concat(v," failed on ").concat(k.result.matchedConfig.name,". Selector must be a string.")),
"Site-wide Javascript"),null;if("string"!=typeof d)return n.onFireException.emit(Error("getValue for ".concat(v," failed on ").concat(k.result.matchedConfig.name,". Attribute must be a string.")),"Site-wide Javascript"),null;var f=h(c).first().attr(d);return f=w(e,f)}},fromSelectorMultiple:function(c,d){return function(){if("string"!=typeof c)return n.onFireException.emit(Error("getValue for ".concat(v," failed on ").concat(k.result.matchedConfig.name,". Selector must be a string.")),"Site-wide Javascript"),
null;var e=h(c).get().map(function(c){return h(c).text()});return e=w(d,e)}},fromSelectorAttributeMultiple:function(c,d,e){return function(){if("string"!=typeof c)return n.onFireException.emit(Error("getValue for ".concat(v," failed on ").concat(k.result.matchedConfig.name,". Selector must be a string.")),"Site-wide Javascript"),null;if("string"!=typeof d)return n.onFireException.emit(Error("getValue for ".concat(v," failed on ").concat(k.result.matchedConfig.name,". Attribute must be a string.")),
"Site-wide Javascript"),null;var f=h(c).get().map(function(c){return h(c).attr(d)});return f=w(e,f)}},fromItemProp:function(c,d){return function(){var e=h("[itemprop='"+c+"']").first().attr("content");return e=w(d,e)}},fromMeta:function(c,d){return function(){var e=h("meta[name='"+c+"']").first().attr("content")||h("meta[property='"+c+"']").first().attr("content");return e=w(d,e)}},fromWindow:function(c,d){return function(){var e=Qa(c);return e=w(d,e)}},fromJsonLd:function(c,d){return function(){var e=
h("script[type='application/ld+json']").first().text();try{var g=JSON.parse(e);if(c){var p=Qa(c,g);return w(d,p)}return w(d,g)}catch(l){n.onFireException.emit(Error("Parsing JSON-LD for ".concat(v," failed on ").concat(k.result.matchedConfig.name,". ").concat(l)),"Site-wide Javascript")}}},fromCanonical:function(c){return function(){var d=h("link[rel=canonical]").attr("href");return d=w(c,d)}},fromHref:function(c){return function(){var d=window.location.href;return d=w(c,d)}},buildCategoryId:function(c,
d,e,g){return function(){var f=Array.from(h(c));d&&(f=f.slice(d));e&&(f=f.slice(0,-1));var l=[];f.forEach(function(c){(c=h(c).text().trim())?l.push(c):n.onFireException.emit(Error("buildCategoryId for ".concat(v," failed on ").concat(k.result.matchedConfig.name,". A category part is null.")),"Site-wide Javascript")});f=l.join("|");return f=w(g,f)}},buildCategoryIdAttribute:function(c,d,e,g,p){return function(){var f=Array.from(h(c));e&&(f=f.slice(e));g&&(f=f.slice(0,-1));var m=[];f.forEach(function(c){(c=
h(c).attr(d).trim())?m.push(c):n.onFireException.emit(Error("buildCategoryId for ".concat(v," failed on ").concat(k.result.matchedConfig.name,". A category part is null.")),"Site-wide Javascript")});f=m.join("|");return f=w(p,f)}}},B=h,u={},Qb={resolveWhenTrue:{bind:function(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random().toString(36).slice(2),e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2E3,g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100;if("function"===
typeof c)return new Promise(function(f,l){var h=0,k=setInterval(function(){try{h+=g;var m=c();m&&(delete u[d],clearInterval(k),f(m));h>=e&&(u[d](),delete u[d])}catch(K){delete u[d],clearInterval(k),l(K)}},g);u[d]=function(){clearInterval(k)}})},unbind:function(c){if(!c||"string"!==typeof c||"function"!==typeof u[c])return null;u[c]();delete u[c]},getBindings:function(){return u},clearBindings:function(){for(var c in u)u.hasOwnProperty(c)&&"function"===typeof u[c]&&(u[c](),delete u[c])}}};var xa="shutDown";
var Ra={cookieDomain:null,consents:null},Rb=function(){function c(c,d,f){if(f)for(c=Math.random().toString(36).slice(2);e[c];)c=Math.random().toString(36).slice(2);else c=c||d;return c}function d(d,f){return{pageElementLoaded:function(g,l){l="string"===typeof l?l:"body";if("string"!==typeof g||""===g||"string"!==typeof l||""===l)throw Error("[pageElementLoaded] Invalid arguments");return new Promise(function(k){var m=B(g);if(0<m.length)k(m[0]);else{m=B(l)[0];if(!m)throw Error("pageElementLoaded cannot be bound. observerSelector ".concat(l,
" is not on the page"));var n=new MutationObserver(function(c,e){var f=!0,l=!1,m=void 0;try{for(var n=c[Symbol.iterator](),p;!(f=(p=n.next()).done);f=!0){var ka=p.value;if(ka.addedNodes&&0<ka.addedNodes.length){c=!0;var q=!1,K=void 0;try{for(var r=ka.addedNodes[Symbol.iterator](),t;!(c=(t=r.next()).done);c=!0){var ba=t.value,ca=B(ba).is(g)?ba:B(ba).find(g).get(0);if(ca){d?h.unbind(d):e.disconnect();k(ca);return}}}catch(Sa){q=!0,K=Sa}finally{try{c||null==r.return||r.return()}finally{if(q)throw K;}}}}}catch(Sa){l=
!0,m=Sa}finally{try{f||null==n.return||n.return()}finally{if(l)throw m;}}});n.observe(m,{childList:!0,subtree:!0})}d=c(d,"<pageElementLoaded>"+g,f);e[d]=function(){n&&n.disconnect()}})},pageElementVisible:function(g,l){var k=l||0;if("string"!==typeof g||""===g||"number"!==typeof k||0>k||1<k)throw Error("[pageElementVisible] Invalid arguments");return new Promise(function(l){var m=B(g),n=new IntersectionObserver(function(c,e){for(var f=0;f<c.length;f++)if(c[f].isIntersecting){d?h.unbind(d):e.disconnect();
l(c[f]);break}},{threshold:k});n.observe(m[0]);d=c(d,"<pageElementVisible>"+g,f);e[d]=function(){n.disconnect()}})},pageExit:function(g){g=g||0;if("number"!==typeof g||0>g)throw Error("[pageExit] Invalid arguments");return new Promise(function(l){function k(c){clearTimeout(p);10>=c.pageY-window.pageYOffset&&(p=0<g?setTimeout(m.bind(this,c),g):m.call(this,c))}function m(c){d?h.unbind(d):n.off("mousemove",k);clearTimeout(p);l(c)}var n=B(document),p;n.on("mousemove",k);d=c(d,"<pageExit>",f);e[d]=function(){n.off("mousemove",
k)}})},pageInactive:function(g){function l(c,e){var f=new Promise(function(f){function g(c){c=c||new Event("pageInactive");d&&!e.isSubscribe?h.unbind(d):k.off("mousemove click scroll keyup keydown",l);f(c)}function l(d){clearTimeout(m);m=setTimeout(g.bind(this,d),c)}var k=B(document),m;l();k.on("mousemove click scroll keyup keydown",l)});f.subscribe=function(g){delete f.subscribe;e.isSubscribe=!0;f.then(function(f){f.disconnect=function(){d?h.unbind(d):e.isDisconnected=!0};g(f);!e.isDisconnected&&
l(c,e).subscribe(g)});return f};return f}if("number"!==typeof g||0>=g)throw Error("[pageInactive] Invalid arguments");var k={isDisconnected:!1,isSubscribe:!1};d=c(d,"<pageInactive>",f);e[d]=function(){k.isDisconnected=!0};return l(g,k)},pageScroll:function(g){if("number"!==typeof g||0>g||1<g)throw Error("[pageScroll] Invalid arguments");return new Promise(function(l){function k(c){window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)>=g&&(l(c),d?h.unbind(d):m.off("scroll",k))}
var m=B(document);m.on("scroll",k);d=c(d,"<pageScroll>",f);e[d]=function(){m.off("scroll",k)}})}}}var e={},g=d(null,!0),h=function(){return{bind:function(c){c&&e[c]&&(e[c](),delete e[c]);return d(c)},unbind:function(c){if(!c||"string"!==typeof c||"function"!==typeof e[c])return null;e[c]();delete e[c]},getBindings:function(){return e},clearBindings:function(){for(var c in e)e.hasOwnProperty(c)&&(e[c](),delete e[c])}}}();return Object.assign(g,h)}(),ta,ua,va,wa,Ta=function(){var c=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{};if(!(kc(window.navigator.userAgent||"")?Z("You are a robot."):"prerender"===document.visibilityState&&lc?Z("Page is pre-rendered and loaded in Safari."):1))return Promise.reject();"initialized"==xa&&Z("reinitializing Web SDK");c.cookieDomain&&Aa(c.cookieDomain);nb();Ra=z({},Ra,{},c);hc();pb();xa="initialized";document.dispatchEvent(new CustomEvent(e.CustomEvents.OnInit));Bc(c.consents);return Promise.resolve()},Sb=function(){var c=C.map(function(c){return c.consent});
Ta(z({},Ra,{consents:c})).then(function(){Pa(k.config)})};window.SalesforceInteractions={init:Ta,reinit:Sb,sendEvent:Na,sendException:La,getAnonymousId:qb,setAnonymousId:Ea,getCookieDomain:mb,setCookieDomain:Aa,updateConsents:Ma,getConsents:zb,ConsentStatus:e.ConsentStatus,log:r,getLoggingLevel:Ya,setLoggingLevel:Xa,initSitemap:Pa,getSitemapConfig:vb,getSitemapResult:wb,CatalogObjectInteractionName:e.CatalogObjectInteractionName,CartInteractionName:e.CartInteractionName,OrderInteractionName:e.OrderInteractionName,
listener:kb,build:Ob,cashDom:B,resolvers:Pb,util:Qb,DisplayUtils:Rb,CustomEvents:e.CustomEvents};e.DEFAULT_CHANNEL="Web";e.DisplayUtils=Rb;e.SITEMAP_REINIT="sitemap_reinit";e.STORAGE_INFO=za;e.attemptToBindListener=Oa;e.build=Ob;e.cancelListenerSearch=ha;e.cashDom=B;e.clearPersistedIdentities=function(){document.dispatchEvent(new CustomEvent(e.CustomEvents.OnClearPersistedIdentities))};e.currentConsentOptInExists=Eb;e.generateUuid=Za;e.getAnonymousId=qb;e.getConsents=zb;e.getCookieDomain=mb;e.getCurrentSitemapKey=
function(){return v};e.getLoggingLevel=Ya;e.getSitemapConfig=vb;e.getSitemapResult=wb;e.getState=function(){return k};e.getValueFromNestedObject=Qa;e.identityCookieExists=rb;e.init=Ta;e.initSitemap=Pa;e.listener=kb;e.log=r;e.matchPageConfig=Ka;e.prepareEvent=Fb;e.reinit=Sb;e.removeCurrentListeners=Kb;e.removeOutstandingPageMatchResolvers=yb;e.resetAnonymousId=function(){document.dispatchEvent(new CustomEvent(e.CustomEvents.OnResetAnonymousId))};e.resolvers=Pb;e.sendEvent=Na;e.sendException=La;e.setAnonymousId=
Ea;e.setConfig=Lb;e.setCookieDomain=Aa;e.setCurrentSitemapKey=function(c){v=c};e.setLoggingLevel=Xa;e.sha1=T;e.shutDown=Z;e.startListenerSearch=Jb;e.updateConsents=Ma;e.util=Qb;return e}({});


// CDP EVENT RECEIVER
(function () {
	var cdpEventReceiver = (function (interactions) {
  'use strict';

  function requireOptions(options, ...names) {
    names.forEach((name) => {
      if (options == null || Object.prototype.hasOwnProperty.call(options, name) === false || options[name] == null) {
        throw new Error(`missing required option "${name.toString()}"`);
      }
    });
  }

  function dispatch(eventType, detail) {
    const customEvent = new CustomEvent(eventType, {
      detail
    });
    document.dispatchEvent(customEvent);
  }

  var __async$5 = (__this, __arguments, generator) => {
    return new Promise((resolve, reject) => {
      var fulfilled = (value) => {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      };
      var rejected = (value) => {
        try {
          step(generator.throw(value));
        } catch (e) {
          reject(e);
        }
      };
      var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
      step((generator = generator.apply(__this, __arguments)).next());
    });
  };
  function promiseXHR(configureRequest) {
    return __async$5(this, null, function* () {
      return yield new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        xhr.onload = () => resolve(xhr);
        xhr.onerror = () => resolve(xhr);
        xhr.abort = () => reject(new Error("Request aborted"));
        configureRequest(xhr);
      });
    });
  }

  var __async$4 = (__this, __arguments, generator) => {
    return new Promise((resolve, reject) => {
      var fulfilled = (value) => {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      };
      var rejected = (value) => {
        try {
          step(generator.throw(value));
        } catch (e) {
          reject(e);
        }
      };
      var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
      step((generator = generator.apply(__this, __arguments)).next());
    });
  };
  function delay(delay2) {
    return __async$4(this, null, function* () {
      return yield new Promise((resolve) => {
        setTimeout(resolve, delay2);
      });
    });
  }

  const MAX_GET_REQUEST_SIZE = 8192;
  var CDPResponseStatus;
  (function(CDPResponseStatus2) {
    CDPResponseStatus2[CDPResponseStatus2["NO_CONTENT"] = 204] = "NO_CONTENT";
    CDPResponseStatus2[CDPResponseStatus2["INTERNAL_SERVER_ERROR"] = 500] = "INTERNAL_SERVER_ERROR";
    CDPResponseStatus2[CDPResponseStatus2["UNAUTHORIZED"] = 401] = "UNAUTHORIZED";
  })(CDPResponseStatus || (CDPResponseStatus = {}));

  function requestOK(xhr) {
    return (xhr == null ? void 0 : xhr.status) === CDPResponseStatus.NO_CONTENT;
  }

  function joinUrl(base, path) {
    return [
      base.replace(/\/$/, ""),
      path.replace(/^\//, "")
    ].join("/");
  }

  function getSalesforceInteractionsInstance() {
    return window.SalesforceInteractions;
  }

  function getSessionId() {
    const sessionId = getSalesforceInteractionsInstance().getAnonymousId();
    if (sessionId == null || sessionId === "") {
      throw new Error("sessionId is missing");
    }
    return sessionId;
  }

  function getDeviceId(options) {
    var _a;
    return (_a = options.deviceId) != null ? _a : getSessionId();
  }

  var __async$3 = (__this, __arguments, generator) => {
    return new Promise((resolve, reject) => {
      var fulfilled = (value) => {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      };
      var rejected = (value) => {
        try {
          step(generator.throw(value));
        } catch (e) {
          reject(e);
        }
      };
      var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
      step((generator = generator.apply(__this, __arguments)).next());
    });
  };
  const DEFAULT_RETRY_DELAY = 5;
  const DEFAULT_MAX_ATTEMPTS = 5;
  function createAuthenticator(options) {
    var _a, _b;
    const authenticationUrl = joinUrl(options.tenantSpecificEndpoint, "/web/authentication");
    const maxAttempts = (_a = options.authenticator.maxAttempts) != null ? _a : DEFAULT_MAX_ATTEMPTS;
    const retryDelay = (_b = options.authenticator.retryDelay) != null ? _b : DEFAULT_RETRY_DELAY;
    let authenticated = false;
    let authenticationFailed = false;
    return () => __async$3(this, null, function* () {
      if (authenticated) {
        return true;
      }
      if (authenticationFailed) {
        return false;
      }
      const attemptRequest = () => __async$3(this, null, function* () {
        const xhr = yield promiseXHR((xhr2) => {
          const encodedAuth = btoa(JSON.stringify({
            appSourceId: options.authenticator.appSourceId,
            deviceId: getDeviceId(options)
          }));
          xhr2.withCredentials = true;
          xhr2.open("POST", authenticationUrl);
          xhr2.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
          xhr2.send(`auth=${encodedAuth}`);
        });
        if (xhr.status === CDPResponseStatus.UNAUTHORIZED) {
          authenticationFailed = true;
          throw new Error("Unauthorized");
        }
        return requestOK(xhr);
      });
      for (let i = maxAttempts; i > 0; i--) {
        try {
          authenticated = yield attemptRequest();
          if (authenticated) {
            return true;
          }
        } finally {
          const keepTryingAuthentication = !(authenticated || authenticationFailed);
          if (keepTryingAuthentication && i > 1) {
            yield delay(retryDelay);
          }
        }
      }
      authenticationFailed = true;
      throw new Error("No more authentication retries");
    });
  }

  function toBase64(str) {
    return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, (match, p1) => {
      const code = p1.toString();
      return String.fromCharCode(parseInt(`0x${code}`, 16));
    }));
  }

  var __async$2 = (__this, __arguments, generator) => {
    return new Promise((resolve, reject) => {
      var fulfilled = (value) => {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      };
      var rejected = (value) => {
        try {
          step(generator.throw(value));
        } catch (e) {
          reject(e);
        }
      };
      var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
      step((generator = generator.apply(__this, __arguments)).next());
    });
  };
  const ACCEPT_HEADER = "application/json, text/javascript, */*; q=0.01";
  function sendEvents(options, events) {
    return __async$2(this, null, function* () {
      const url = joinUrl(options.tenantSpecificEndpoint, "/web/events");
      const payload = { events };
      const xhr = yield promiseXHR((xhr2) => {
        const eventsAsJSON = JSON.stringify(payload, convertBooleanToNumber);
        const containsNonAscii = !/^[\x20-\x7E]+$/.test(eventsAsJSON);
        const eventsAsBase64 = encodeURIComponent(toBase64(eventsAsJSON));
        const getUrl = `${url}?event=${eventsAsBase64}`;
        const getUrlExceedsMaxGetRequestSize = getUrl.length > MAX_GET_REQUEST_SIZE;
        xhr2.withCredentials = true;
        if (containsNonAscii || getUrlExceedsMaxGetRequestSize) {
          xhr2.open("POST", url, true);
          xhr2.setRequestHeader("Accept", ACCEPT_HEADER);
          xhr2.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
          xhr2.send(`event=${eventsAsBase64}`);
        } else {
          xhr2.open("GET", getUrl, true);
          xhr2.setRequestHeader("Accept", ACCEPT_HEADER);
          xhr2.send();
        }
      });
      if (!requestOK(xhr)) {
        const error = new Error(`Response was not OK: ${xhr.responseText}`);
        Object.assign(error, {
          status: xhr.status,
          statusText: xhr.statusText
        });
        throw error;
      }
    });
  }
  function convertBooleanToNumber(key, value) {
    if (typeof value === "boolean") {
      return value ? 1 : 0;
    }
    return value;
  }

  // Unique ID creation requires a high quality random # generator. In the browser we therefore
  // require the crypto API and do not support built-in fallback to lower quality random number
  // generators (like Math.random()).
  var getRandomValues;
  var rnds8 = new Uint8Array(16);
  function rng() {
    // lazy load so that environments that need to polyfill have a chance to do so
    if (!getRandomValues) {
      // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,
      // find the complete implementation of crypto (msCrypto) on IE11.
      getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);

      if (!getRandomValues) {
        throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
      }
    }

    return getRandomValues(rnds8);
  }

  var REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;

  function validate(uuid) {
    return typeof uuid === 'string' && REGEX.test(uuid);
  }

  /**
   * Convert array of 16 byte values to UUID string format of the form:
   * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
   */

  var byteToHex = [];

  for (var i = 0; i < 256; ++i) {
    byteToHex.push((i + 0x100).toString(16).substr(1));
  }

  function stringify(arr) {
    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    // Note: Be careful editing this code!  It's been tuned for performance
    // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
    var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one
    // of the following:
    // - One or more input array values don't map to a hex octet (leading to
    // "undefined" in the uuid)
    // - Invalid input values for the RFC `version` or `variant` fields

    if (!validate(uuid)) {
      throw TypeError('Stringified UUID is invalid');
    }

    return uuid;
  }

  function v4(options, buf, offset) {
    options = options || {};
    var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

    rnds[6] = rnds[6] & 0x0f | 0x40;
    rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

    if (buf) {
      offset = offset || 0;

      for (var i = 0; i < 16; ++i) {
        buf[offset + i] = rnds[i];
      }

      return buf;
    }

    return stringify(rnds);
  }

  function getEventDateTime(actionEvent) {
    const sourceDate = typeof (actionEvent == null ? void 0 : actionEvent.time) === "number" ? new Date(actionEvent.time) : new Date();
    return sourceDate.toISOString();
  }

  var RequiredEventFields;
  (function(RequiredEventFields2) {
    RequiredEventFields2["Category"] = "category";
    RequiredEventFields2["DateTime"] = "dateTime";
    RequiredEventFields2["DeviceId"] = "deviceId";
    RequiredEventFields2["EventId"] = "eventId";
    RequiredEventFields2["EventType"] = "eventType";
    RequiredEventFields2["SessionId"] = "sessionId";
  })(RequiredEventFields || (RequiredEventFields = {}));
  var CDPEventType;
  (function(CDPEventType2) {
    CDPEventType2["Cart"] = "cart";
    CDPEventType2["CartItem"] = "cartItem";
    CDPEventType2["Catalog"] = "catalog";
    CDPEventType2["Consent"] = "consentLog";
    CDPEventType2["Order"] = "order";
    CDPEventType2["OrderItem"] = "orderItem";
    CDPEventType2["Profile"] = "profile";
    CDPEventType2["Engagement"] = "engagement";
  })(CDPEventType || (CDPEventType = {}));
  var InteractionEventFields;
  (function(InteractionEventFields2) {
    InteractionEventFields2["INTERACTION_NAME"] = "interactionName";
    InteractionEventFields2["PAGE_VIEW"] = "pageView";
    InteractionEventFields2["SOURCE_CHANNEL"] = "sourceChannel";
    InteractionEventFields2["SOURCE_LOCALE"] = "sourceLocale";
    InteractionEventFields2["SOURCE_PAGE_TYPE"] = "sourcePageType";
    InteractionEventFields2["SOURCE_URL"] = "sourceUrl";
    InteractionEventFields2["SOURCE_URL_REFERRER"] = "sourceUrlReferrer";
  })(InteractionEventFields || (InteractionEventFields = {}));
  var RequiredItemEventFields;
  (function(RequiredItemEventFields2) {
    RequiredItemEventFields2["CATALOG_OBJECT_TYPE"] = "catalogObjectType";
    RequiredItemEventFields2["CATALOG_OBJECT_ID"] = "catalogObjectId";
    RequiredItemEventFields2["PRICE"] = "price";
    RequiredItemEventFields2["QUANTITY"] = "quantity";
    RequiredItemEventFields2["CURRENCY"] = "currency";
  })(RequiredItemEventFields || (RequiredItemEventFields = {}));

  function getGeneratedEventFields(actionEvent, options) {
    return {
      [RequiredEventFields.EventId]: v4(),
      [RequiredEventFields.DateTime]: getEventDateTime(actionEvent),
      [RequiredEventFields.SessionId]: getSessionId(),
      [RequiredEventFields.DeviceId]: getDeviceId(options)
    };
  }

  var CDPEventCategory;
  (function(CDPEventCategory2) {
    CDPEventCategory2["Engagement"] = "Engagement";
    CDPEventCategory2["Profile"] = "Profile";
  })(CDPEventCategory || (CDPEventCategory = {}));

  var __defProp$6 = Object.defineProperty;
  var __defProps$5 = Object.defineProperties;
  var __getOwnPropDescs$5 = Object.getOwnPropertyDescriptors;
  var __getOwnPropSymbols$6 = Object.getOwnPropertySymbols;
  var __hasOwnProp$6 = Object.prototype.hasOwnProperty;
  var __propIsEnum$6 = Object.prototype.propertyIsEnumerable;
  var __defNormalProp$6 = (obj, key, value) => key in obj ? __defProp$6(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __spreadValues$6 = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp$6.call(b, prop))
        __defNormalProp$6(a, prop, b[prop]);
    if (__getOwnPropSymbols$6)
      for (var prop of __getOwnPropSymbols$6(b)) {
        if (__propIsEnum$6.call(b, prop))
          __defNormalProp$6(a, prop, b[prop]);
      }
    return a;
  };
  var __spreadProps$5 = (a, b) => __defProps$5(a, __getOwnPropDescs$5(b));
  function extractConsentEvents(actionEvent, options) {
    var _a;
    const consents = (_a = actionEvent.consents) != null ? _a : [];
    if (consents.length === 0) {
      return [];
    }
    const consentEvents = [];
    consents.forEach((consent) => {
      const consentEvent = extractConsent(consent, actionEvent, options);
      if (consentEvent != null) {
        consentEvents.push(consentEvent);
      }
    });
    return consentEvents;
  }
  function extractConsent(consent, actionEvent, options) {
    try {
      let status;
      if (consent.status === interactions.ConsentStatus.OptIn) {
        status = "opt-in";
      } else if (consent.status === interactions.ConsentStatus.OptOut) {
        status = "opt-out";
      } else {
        getSalesforceInteractionsInstance().log.error(`Consent value should be either "${interactions.ConsentStatus.OptIn}" or "${interactions.ConsentStatus.OptOut}"`, actionEvent);
        return null;
      }
      return __spreadProps$5(__spreadValues$6({}, getGeneratedEventFields(actionEvent, options)), {
        [RequiredEventFields.EventType]: CDPEventType.Consent,
        [RequiredEventFields.Category]: CDPEventCategory.Engagement,
        purpose: consent.purpose,
        provider: consent.provider,
        status
      });
    } catch (e) {
      getSalesforceInteractionsInstance().log.error(e.message);
      return null;
    }
  }

  function hasProfileEvent(actionEvent) {
    var _a;
    return typeof ((_a = actionEvent == null ? void 0 : actionEvent.user) == null ? void 0 : _a.attributes) === "object";
  }

  function getInteractionFields(actionEvent) {
    var _a, _b, _c, _d, _e, _f;
    return {
      [InteractionEventFields.INTERACTION_NAME]: (_a = actionEvent == null ? void 0 : actionEvent.interaction) == null ? void 0 : _a.name,
      [InteractionEventFields.PAGE_VIEW]: actionEvent == null ? void 0 : actionEvent.pageView,
      [InteractionEventFields.SOURCE_URL]: (_b = actionEvent == null ? void 0 : actionEvent.source) == null ? void 0 : _b.url,
      [InteractionEventFields.SOURCE_URL_REFERRER]: (_c = actionEvent == null ? void 0 : actionEvent.source) == null ? void 0 : _c.urlReferrer,
      [InteractionEventFields.SOURCE_CHANNEL]: (_d = actionEvent == null ? void 0 : actionEvent.source) == null ? void 0 : _d.channel,
      [InteractionEventFields.SOURCE_LOCALE]: (_e = actionEvent == null ? void 0 : actionEvent.source) == null ? void 0 : _e.locale,
      [InteractionEventFields.SOURCE_PAGE_TYPE]: (_f = actionEvent == null ? void 0 : actionEvent.source) == null ? void 0 : _f.pageType
    };
  }

  var __defProp$5 = Object.defineProperty;
  var __defProps$4 = Object.defineProperties;
  var __getOwnPropDescs$4 = Object.getOwnPropertyDescriptors;
  var __getOwnPropSymbols$5 = Object.getOwnPropertySymbols;
  var __hasOwnProp$5 = Object.prototype.hasOwnProperty;
  var __propIsEnum$5 = Object.prototype.propertyIsEnumerable;
  var __defNormalProp$5 = (obj, key, value) => key in obj ? __defProp$5(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __spreadValues$5 = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp$5.call(b, prop))
        __defNormalProp$5(a, prop, b[prop]);
    if (__getOwnPropSymbols$5)
      for (var prop of __getOwnPropSymbols$5(b)) {
        if (__propIsEnum$5.call(b, prop))
          __defNormalProp$5(a, prop, b[prop]);
      }
    return a;
  };
  var __spreadProps$4 = (a, b) => __defProps$4(a, __getOwnPropDescs$4(b));
  function extractProfileEvents(actionEvent, options) {
    var _a, _b;
    if (!hasProfileEvent(actionEvent)) {
      return [];
    }
    const userAttributes = (_b = (_a = actionEvent.user) == null ? void 0 : _a.attributes) != null ? _b : {};
    const eventType = userAttributes.eventType;
    if (eventType == null) {
      throw new Error('missing required "user.attributes.eventType" property in action: ', actionEvent);
    }
    return [__spreadProps$4(__spreadValues$5(__spreadValues$5(__spreadValues$5({}, getGeneratedEventFields(actionEvent, options)), getInteractionFields(actionEvent)), userAttributes), {
      [RequiredEventFields.EventType]: eventType,
      [RequiredEventFields.Category]: CDPEventCategory.Profile
    })];
  }

  function copyParentFieldsForCDPEvent(parentEvent) {
    return {
      [RequiredEventFields.EventId]: v4(),
      [RequiredEventFields.Category]: parentEvent[RequiredEventFields.Category],
      [RequiredEventFields.DateTime]: parentEvent[RequiredEventFields.DateTime],
      [RequiredEventFields.DeviceId]: parentEvent[RequiredEventFields.DeviceId],
      [RequiredEventFields.SessionId]: parentEvent[RequiredEventFields.SessionId],
      [RequiredEventFields.EventType]: ""
    };
  }

  var camelcase = {exports: {}};

  const preserveCamelCase = (string, locale) => {
  	let isLastCharLower = false;
  	let isLastCharUpper = false;
  	let isLastLastCharUpper = false;

  	for (let i = 0; i < string.length; i++) {
  		const character = string[i];

  		if (isLastCharLower && /[\p{Lu}]/u.test(character)) {
  			string = string.slice(0, i) + '-' + string.slice(i);
  			isLastCharLower = false;
  			isLastLastCharUpper = isLastCharUpper;
  			isLastCharUpper = true;
  			i++;
  		} else if (isLastCharUpper && isLastLastCharUpper && /[\p{Ll}]/u.test(character)) {
  			string = string.slice(0, i - 1) + '-' + string.slice(i - 1);
  			isLastLastCharUpper = isLastCharUpper;
  			isLastCharUpper = false;
  			isLastCharLower = true;
  		} else {
  			isLastCharLower = character.toLocaleLowerCase(locale) === character && character.toLocaleUpperCase(locale) !== character;
  			isLastLastCharUpper = isLastCharUpper;
  			isLastCharUpper = character.toLocaleUpperCase(locale) === character && character.toLocaleLowerCase(locale) !== character;
  		}
  	}

  	return string;
  };

  const preserveConsecutiveUppercase = input => {
  	return input.replace(/^[\p{Lu}](?![\p{Lu}])/gu, m1 => m1.toLowerCase());
  };

  const postProcess = (input, options) => {
  	return input.replace(/[_.\- ]+([\p{Alpha}\p{N}_]|$)/gu, (_, p1) => p1.toLocaleUpperCase(options.locale))
  		.replace(/\d+([\p{Alpha}\p{N}_]|$)/gu, m => m.toLocaleUpperCase(options.locale));
  };

  const camelCase = (input, options) => {
  	if (!(typeof input === 'string' || Array.isArray(input))) {
  		throw new TypeError('Expected the input to be `string | string[]`');
  	}

  	options = {
  		pascalCase: false,
  		preserveConsecutiveUppercase: false,
  		...options
  	};

  	if (Array.isArray(input)) {
  		input = input.map(x => x.trim())
  			.filter(x => x.length)
  			.join('-');
  	} else {
  		input = input.trim();
  	}

  	if (input.length === 0) {
  		return '';
  	}

  	if (input.length === 1) {
  		return options.pascalCase ? input.toLocaleUpperCase(options.locale) : input.toLocaleLowerCase(options.locale);
  	}

  	const hasUpperCase = input !== input.toLocaleLowerCase(options.locale);

  	if (hasUpperCase) {
  		input = preserveCamelCase(input, options.locale);
  	}

  	input = input.replace(/^[_.\- ]+/, '');

  	if (options.preserveConsecutiveUppercase) {
  		input = preserveConsecutiveUppercase(input);
  	} else {
  		input = input.toLocaleLowerCase();
  	}

  	if (options.pascalCase) {
  		input = input.charAt(0).toLocaleUpperCase(options.locale) + input.slice(1);
  	}

  	return postProcess(input, options);
  };

  camelcase.exports = camelCase;
  // TODO: Remove this for the next major release
  camelcase.exports.default = camelCase;

  var camelCase$1 = camelcase.exports;

  function flattenCamelCase(source, property, target = {}) {
    if (source == null) {
      return target;
    }
    if (typeof source === "object") {
      Object.keys(source).forEach((sourceKey) => {
        const newSource = source[sourceKey];
        const prefix = property != null ? camelCase$1(property + "." + sourceKey) : camelCase$1(sourceKey);
        return flattenCamelCase(newSource, prefix, target);
      });
    } else if (property != null) {
      target[property] = source;
    }
    return target;
  }

  var __defProp$4 = Object.defineProperty;
  var __getOwnPropSymbols$4 = Object.getOwnPropertySymbols;
  var __hasOwnProp$4 = Object.prototype.hasOwnProperty;
  var __propIsEnum$4 = Object.prototype.propertyIsEnumerable;
  var __defNormalProp$4 = (obj, key, value) => key in obj ? __defProp$4(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __spreadValues$4 = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp$4.call(b, prop))
        __defNormalProp$4(a, prop, b[prop]);
    if (__getOwnPropSymbols$4)
      for (var prop of __getOwnPropSymbols$4(b)) {
        if (__propIsEnum$4.call(b, prop))
          __defNormalProp$4(a, prop, b[prop]);
      }
    return a;
  };
  function getLineItemFields(lineItem) {
    requireOptions(lineItem, "catalogObjectType", "catalogObjectId", "quantity");
    return __spreadValues$4({
      catalogObjectType: lineItem.catalogObjectType,
      catalogObjectId: lineItem.catalogObjectId,
      price: lineItem.price,
      quantity: lineItem.quantity,
      currency: lineItem.currency
    }, flattenCamelCase(lineItem.attributes, "attribute"));
  }

  var __defProp$3 = Object.defineProperty;
  var __defProps$3 = Object.defineProperties;
  var __getOwnPropDescs$3 = Object.getOwnPropertyDescriptors;
  var __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;
  var __hasOwnProp$3 = Object.prototype.hasOwnProperty;
  var __propIsEnum$3 = Object.prototype.propertyIsEnumerable;
  var __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __spreadValues$3 = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp$3.call(b, prop))
        __defNormalProp$3(a, prop, b[prop]);
    if (__getOwnPropSymbols$3)
      for (var prop of __getOwnPropSymbols$3(b)) {
        if (__propIsEnum$3.call(b, prop))
          __defNormalProp$3(a, prop, b[prop]);
      }
    return a;
  };
  var __spreadProps$3 = (a, b) => __defProps$3(a, __getOwnPropDescs$3(b));
  function extractCartEvents(actionEvent, cartInteraction, options) {
    const cartEvent = extractCartEvent(actionEvent, options);
    return [
      cartEvent,
      ...extractCartItemEvents(cartEvent, cartInteraction)
    ];
  }
  function extractCartEvent(actionEvent, options) {
    return __spreadProps$3(__spreadValues$3(__spreadValues$3({}, getGeneratedEventFields(actionEvent, options)), getInteractionFields(actionEvent)), {
      category: CDPEventCategory.Engagement,
      eventType: CDPEventType.Cart
    });
  }
  function extractCartItemEvents(parent, cartInteraction) {
    const cartItemEvents = [];
    if (isAddToCartInteraction(cartInteraction) || isRemoveFromCartInteraction(cartInteraction)) {
      requireOptions(cartInteraction, "lineItem");
      const cartItemEvent = extractCartItemEvent(parent, cartInteraction.lineItem);
      if (cartItemEvent != null) {
        cartItemEvents.push(cartItemEvent);
      }
    } else if (isReplaceCartInteraction(cartInteraction)) {
      requireOptions(cartInteraction, "lineItems");
      cartInteraction.lineItems.forEach((lineItem) => {
        const cartItemEvent = extractCartItemEvent(parent, lineItem);
        if (cartItemEvent != null) {
          cartItemEvents.push(cartItemEvent);
        }
      });
    }
    return cartItemEvents;
  }
  function extractCartItemEvent(parent, lineItem) {
    try {
      return __spreadProps$3(__spreadValues$3(__spreadValues$3({}, copyParentFieldsForCDPEvent(parent)), getLineItemFields(lineItem)), {
        [RequiredEventFields.EventType]: CDPEventType.CartItem,
        cartEventId: parent[RequiredEventFields.EventId]
      });
    } catch (e) {
      getSalesforceInteractionsInstance().log.error(e.message);
      return null;
    }
  }
  function isAddToCartInteraction(cartInteraction) {
    return cartInteraction.name === interactions.CartInteractionName.AddToCart;
  }
  function isRemoveFromCartInteraction(cartInteraction) {
    return cartInteraction.name === interactions.CartInteractionName.RemoveFromCart;
  }
  function isReplaceCartInteraction(cartInteraction) {
    return cartInteraction.name === interactions.CartInteractionName.ReplaceCart;
  }

  var __defProp$2 = Object.defineProperty;
  var __defProps$2 = Object.defineProperties;
  var __getOwnPropDescs$2 = Object.getOwnPropertyDescriptors;
  var __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;
  var __hasOwnProp$2 = Object.prototype.hasOwnProperty;
  var __propIsEnum$2 = Object.prototype.propertyIsEnumerable;
  var __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __spreadValues$2 = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp$2.call(b, prop))
        __defNormalProp$2(a, prop, b[prop]);
    if (__getOwnPropSymbols$2)
      for (var prop of __getOwnPropSymbols$2(b)) {
        if (__propIsEnum$2.call(b, prop))
          __defNormalProp$2(a, prop, b[prop]);
      }
    return a;
  };
  var __spreadProps$2 = (a, b) => __defProps$2(a, __getOwnPropDescs$2(b));
  function extractCatalogEvents(actionEvent, catalogObjectInteraction, options) {
    requireOptions(catalogObjectInteraction, "catalogObject");
    const catalogObject = catalogObjectInteraction.catalogObject;
    return [extractCatalogEvent(actionEvent, catalogObject, options)];
  }
  function extractCatalogEvent(actionEvent, catalogObject, options) {
    requireOptions(catalogObject, "id", "type");
    return __spreadProps$2(__spreadValues$2(__spreadValues$2(__spreadValues$2(__spreadValues$2({}, getGeneratedEventFields(actionEvent, options)), getInteractionFields(actionEvent)), flattenCamelCase(catalogObject.attributes, "attribute")), flattenCamelCase(catalogObject.relatedCatalogObjects, "relatedCatalogObject")), {
      category: CDPEventCategory.Engagement,
      eventType: CDPEventType.Catalog,
      id: catalogObject.id,
      type: catalogObject.type
    });
  }

  var __defProp$1 = Object.defineProperty;
  var __defProps$1 = Object.defineProperties;
  var __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;
  var __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;
  var __hasOwnProp$1 = Object.prototype.hasOwnProperty;
  var __propIsEnum$1 = Object.prototype.propertyIsEnumerable;
  var __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __spreadValues$1 = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp$1.call(b, prop))
        __defNormalProp$1(a, prop, b[prop]);
    if (__getOwnPropSymbols$1)
      for (var prop of __getOwnPropSymbols$1(b)) {
        if (__propIsEnum$1.call(b, prop))
          __defNormalProp$1(a, prop, b[prop]);
      }
    return a;
  };
  var __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));
  function extractOrderEvents(actionEvent, orderInteraction, options) {
    requireOptions(orderInteraction, "order");
    const order = orderInteraction.order;
    const orderEvent = extractOrderEvent(actionEvent, order, options);
    return [
      orderEvent,
      ...extractOrderItemEvents(orderEvent, order)
    ];
  }
  function extractOrderEvent(actionEvent, order, options) {
    requireOptions(order, "id");
    return __spreadProps$1(__spreadValues$1(__spreadValues$1(__spreadValues$1({}, getGeneratedEventFields(actionEvent, options)), getInteractionFields(actionEvent)), flattenCamelCase(order.attributes, "attribute")), {
      category: CDPEventCategory.Engagement,
      eventType: CDPEventType.Order,
      orderId: order.id,
      orderCurrency: order.currency,
      orderTotalValue: order.totalValue
    });
  }
  function extractOrderItemEvents(orderEvent, order) {
    if (order.lineItems == null) {
      return [];
    }
    const orderItemEvents = [];
    order.lineItems.forEach((lineItem) => {
      const orderItemEvent = extractOrderItemEvent(orderEvent, lineItem);
      if (orderItemEvent != null) {
        orderItemEvents.push(orderItemEvent);
      }
    });
    return orderItemEvents;
  }
  function extractOrderItemEvent(orderEvent, lineItem) {
    try {
      return __spreadProps$1(__spreadValues$1(__spreadValues$1({}, copyParentFieldsForCDPEvent(orderEvent)), getLineItemFields(lineItem)), {
        [RequiredEventFields.EventType]: CDPEventType.OrderItem,
        orderEventId: orderEvent[RequiredEventFields.EventId]
      });
    } catch (e) {
      getSalesforceInteractionsInstance().log.error(e.message);
      return null;
    }
  }

  var __defProp = Object.defineProperty;
  var __defProps = Object.defineProperties;
  var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
  var __getOwnPropSymbols = Object.getOwnPropertySymbols;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __propIsEnum = Object.prototype.propertyIsEnumerable;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __spreadValues = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    if (__getOwnPropSymbols)
      for (var prop of __getOwnPropSymbols(b)) {
        if (__propIsEnum.call(b, prop))
          __defNormalProp(a, prop, b[prop]);
      }
    return a;
  };
  var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
  function extractCustomEvents(actionEvent, interaction, options) {
    var _a;
    const eventType = (_a = interaction.eventType) != null ? _a : interaction.name;
    const customFields = Object.keys(actionEvent.interaction).reduce((acc, key) => {
      if (key !== "name") {
        acc[key] = interaction[key];
      }
      return acc;
    }, {});
    return [__spreadProps(__spreadValues(__spreadValues(__spreadValues({}, flattenCamelCase(customFields)), getGeneratedEventFields(actionEvent, options)), getInteractionFields(actionEvent)), {
      [RequiredEventFields.EventType]: eventType,
      [RequiredEventFields.Category]: CDPEventCategory.Engagement
    })];
  }

  function extractEngagementEvents(actionEvent, options) {
    const interaction = actionEvent == null ? void 0 : actionEvent.interaction;
    if (interaction == null) {
      return [];
    }
    requireOptions(actionEvent.interaction, "name");
    if (isOrderInteraction(interaction)) {
      return extractOrderEvents(actionEvent, interaction, options);
    }
    if (isCatalogObjectInteraction(interaction)) {
      return extractCatalogEvents(actionEvent, interaction, options);
    }
    if (isCartInteraction(interaction)) {
      return extractCartEvents(actionEvent, interaction, options);
    }
    return extractCustomEvents(actionEvent, interaction, options);
  }
  function isOrderInteraction(interaction) {
    return interactions.OrderInteractionName.Return === interaction.name || interactions.OrderInteractionName.Ship === interaction.name || interactions.OrderInteractionName.Preorder === interaction.name || interactions.OrderInteractionName.Cancel === interaction.name || interactions.OrderInteractionName.Exchange === interaction.name || interactions.OrderInteractionName.Purchase === interaction.name || interactions.OrderInteractionName.Deliver === interaction.name;
  }
  function isCatalogObjectInteraction(interaction) {
    return interactions.CatalogObjectInteractionName.ViewCatalogObject === interaction.name || interactions.CatalogObjectInteractionName.CommentCatalogObject === interaction.name || interactions.CatalogObjectInteractionName.FavoriteCatalogObject === interaction.name || interactions.CatalogObjectInteractionName.ReviewCatalogObject === interaction.name || interactions.CatalogObjectInteractionName.ShareCatalogObject === interaction.name || interactions.CatalogObjectInteractionName.QuickViewCatalogObject === interaction.name || interactions.CatalogObjectInteractionName.ViewCatalogObjectDetail === interaction.name;
  }
  function isCartInteraction(interaction) {
    return interactions.CartInteractionName.ReplaceCart === interaction.name || interactions.CartInteractionName.AddToCart === interaction.name || interactions.CartInteractionName.RemoveFromCart === interaction.name;
  }

  function actionEventToCDPEvents(actionEvent, options) {
    return [
      ...extractConsentEvents(actionEvent, options),
      ...extractProfileEvents(actionEvent, options),
      ...extractEngagementEvents(actionEvent, options)
    ];
  }

  var __async$1 = (__this, __arguments, generator) => {
    return new Promise((resolve, reject) => {
      var fulfilled = (value) => {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      };
      var rejected = (value) => {
        try {
          step(generator.throw(value));
        } catch (e) {
          reject(e);
        }
      };
      var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
      step((generator = generator.apply(__this, __arguments)).next());
    });
  };
  function createClient(options) {
    const authenticator = createAuthenticator(options);
    return (actionEvent) => __async$1(this, null, function* () {
      const isAuthenticated = yield authenticator();
      if (isAuthenticated) {
        const events = actionEventToCDPEvents(actionEvent, options);
        yield sendEvents(options, events);
      }
    });
  }

  var __async = (__this, __arguments, generator) => {
    return new Promise((resolve, reject) => {
      var fulfilled = (value) => {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      };
      var rejected = (value) => {
        try {
          step(generator.throw(value));
        } catch (e) {
          reject(e);
        }
      };
      var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
      step((generator = generator.apply(__this, __arguments)).next());
    });
  };
  const { OnEventSend, OnException } = interactions.CustomEvents;
  function createPlugin(options) {
    requireOptions(options, "tenantSpecificEndpoint", "authenticator");
    requireOptions(options.authenticator, "appSourceId");
    if (!/^(http|https):\/\/.*/.test(options.tenantSpecificEndpoint)) {
      throw new Error(`missing http(s):// protocol for option "tenantSpecificEndpoint": ${options.tenantSpecificEndpoint}`);
    }
    const send = createClient(options);
    subscribe(OnEventSend, (event) => __async(this, null, function* () {
      try {
        if (consentOptInExists() || eventContainsOptOut(event)) {
          yield send(event.detail.actionEvent);
        } else {
          getSalesforceInteractionsInstance().log.debug("event not sent to CDP because consent was not given");
        }
      } catch (error) {
        getSalesforceInteractionsInstance().log.error(error.message);
        dispatch(OnException, { error });
      }
    }));
  }
  function subscribe(eventName, eventHandler) {
    function onUnloadHandler() {
      document.removeEventListener(eventName, eventHandler);
      window.removeEventListener("unload", onUnloadHandler);
    }
    document.addEventListener(eventName, eventHandler);
    window.addEventListener("unload", onUnloadHandler);
  }
  function consentOptInExists() {
    const consents = getSalesforceInteractionsInstance().getConsents();
    return consents.findIndex((consentWithMetadata) => consentWithMetadata.consent.status === interactions.ConsentStatus.OptIn) >= 0;
  }
  function eventContainsOptOut(event) {
    return event.detail.actionEvent.interaction.name === interactions.MetadataUpdateInteractionName.MetadataUpdate && event.detail.actionEvent.consents.findIndex((consents) => consents.status === interactions.ConsentStatus.OptOut) >= 0;
  }

  return createPlugin;

}(window.SalesforceInteractions));


	try {
        cdpEventReceiver({
			tenantSpecificEndpoint: "https://g43wkzjwm-2w8njzmy3d9mrqg1.c360a.salesforce.com",
			authenticator: {
				appSourceId: "17b56252-169d-4824-a267-89cc5800ea62",
			}
	  	});
	} catch (e) {
		console.error(e);
	}
})();

// SITEMAP AND INIT
try {
  (function() {
    SalesforceInteractions.init();
  })()
} catch (e) {
  console.error("[CDP WEB SDK]", e);
};
